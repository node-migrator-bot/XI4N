<html>
<head>

	<script src="/static/raphael-min.js" type="text/javascript"></script>

	<script src="/socket.io/socket.io.js"></script>

	<link href='http://fonts.googleapis.com/css?family=Nova+Flat' rel='stylesheet' type='text/css'>

	<style>
		body
		{
			font-family: 'Nova Flat', cursive;
			font-size: 12px;
			background-color: #000;
		}

		#rsr
		{
			width: 820px;
			height: 559px;
			margin: 0 auto;
			background-color: #000;
		}

		tspan {
			font-family: 'Nova Flat', cursive;
			font-size: 4em;
			fill: #fff;
		}

		.gear tspan {
			font-size: 9em;
		}

		.gears tspan {
			fill: #aaa;
			opacity: 0.60;
		}

		.speed tspan {
			font-size: 8em;
			opacity: 0.9;
		}

		.speed-units tspan {
			font-size: 1.5em;
			opacity: 0.8;
		}

		.clock tspan {
			fill: #ccc;
		}

		.lap tspan {
			font-size: 2em;
			fill: #bbb;
			opacity: 0.60;
			line-height: 2em;
		}

		.rpm-units tspan {
			font-size: 2em;
			fill: #000;
		}

	</style>

</head>
<body>

<div id="rsr">
</div>

<script type="text/javascript">

var rsr = Raphael('rsr', '777.6', '558.4');

// top outer marker
var path3454 = rsr.path("m 336.80684,1.2274765 c 0.8962,0 2.72165,0 3.63459,0 0.36527,6.6785501 0.63073,13.3748615 0.53112,20.0534275 -0.99581,0.01778 -3.00395,0.03564 -3.99976,0.05331 -0.11614,-6.696314 -0.16595,-13.4104016 -0.16595,-20.1067143 z");
path3454.attr({id: 'path3454',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3454');

var path3456 = rsr.path("m 273.49036,36.698388 c 3.10336,-1.065724 4.48097,4.511584 1.31107,5.257586 -3.10346,1.04797 -4.48108,-4.493819 -1.31107,-5.257586 z");
path3456.attr({id: 'path3456',fill: '#313c40','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3456');

// top outer 7 tick
var path3460 = rsr.path("m 178.68989,46.449793 c 6.90423,2.895206 8.68007,11.865069 13.39354,17.424613 -1.12857,0.03549 -3.38572,0.106597 -4.51431,0.142107 -3.26954,-5.648357 -7.99961,-10.728307 -8.87923,-17.56672 z");
path3460.attr({id: 'path3460',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3460');

// top outer 9 tick
var path3462 = rsr.path("m 488.25177,63.856641 c 3.03722,-6.518681 5.9582,-13.463671 10.83752,-18.667963 3.26961,2.575514 0.43161,6.945001 -1.06205,9.69812 -2.5062,3.783326 -4.46464,9.857962 -9.77547,8.969843 z");
path3462.attr({id: 'path3462',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3462');

// white speedo face circle
var path4641 = rsr.path("m 378.96505,159.52283 a 269.58447,242.51553 0 1 1 -539.16895,0 269.58447,242.51553 0 1 1 539.16895,0 z");
path4641.attr({id: 'path4641',fill: '#ffffff',"fill-opacity": '1',"fill-rule": 'evenodd',stroke: '#ff0000',"stroke-width": '1',"stroke-linecap": 'butt',"stroke-linejoin": 'miter',"stroke-opacity": '1'});
path4641.transform("m0.95634357,0,0,1.0615814,241.08031,129.89987").data('id', 'path4641');

// 8
var path3486 = rsr.path("m 336.97279,79.895817 c 4.87952,-0.301948 10.88752,-1.865011 14.85391,2.13146 3.4521,3.481367 0.97927,8.508063 0.51439,12.68216 1.22829,4.031989 3.30288,8.916553 0.84679,12.877513 -3.28635,5.36415 -10.00786,4.40498 -15.13621,3.92543 -5.47688,-0.90587 -7.63474,-7.37128 -6.04137,-12.5223 2.24064,-6.32329 -3.784,-16.90952 4.96249,-19.094263 z");
path3486.attr({id: 'path3486',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3486');

// red marker
var path3488 = rsr.path("m 464.65117,104.10557 c 2.97088,-9.094196 8.91254,-16.962804 14.04089,-24.866953 32.24728,18.969942 60.04687,45.932793 81.80528,77.602613 4.31492,6.28782 8.72986,12.62887 11.48488,19.91132 -7.88347,5.75494 -18.12372,8.33043 -23.56743,17.35359 -0.71371,-0.78154 -2.12439,-2.3446 -2.8379,-3.12614 -5.16172,-7.15811 -14.98689,-5.59504 -22.09041,-3.28598 -6.5723,-3.12612 -12.82913,-7.2647 -17.40992,-13.28605 -8.04932,-10.2665 -16.61333,-20.17775 -26.65406,-28.25952 -3.73439,-3.16166 -7.91684,-5.79042 -11.10348,-9.60929 -1.85893,-7.17588 -1.67624,-14.72479 -3.03722,-22.00724 -0.46458,-3.4636 -0.81302,-6.94497 -0.63063,-10.42635 z");
path3488.attr({id: 'path3488',fill: '#fb0403','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3488');

// 8 top hole
var path3490 = rsr.path("m 335.76103,87.871023 c 0.41518,-7.140371 8.86284,-4.476064 13.26084,-4.245164 0.0665,2.824198 0.0161,5.666111 -0.14922,8.490309 -4.33176,0.42628 -12.81269,2.75312 -13.11162,-4.245145 z");
path3490.attr({id: 'path3490',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3490');

// top right outer swoosh
var path3492 = rsr.path("m 714.68066,90.712936 c 6.92083,4.174096 10.25679,12.167064 14.28981,19.076494 17.24387,29.91138 30.80354,62.36274 39.18476,96.37718 3.31932,17.05162 8.1324,34.03219 7.91664,51.63442 -0.64737,0.58615 -1.95834,1.72294 -2.62224,2.29131 -0.39825,-2.98402 -0.74678,-5.98581 -1.09562,-8.96987 -0.84619,2.23804 -1.62624,4.49382 -2.37302,6.74962 -4.66376,-0.33748 -9.29425,-1.06572 -13.75879,-2.46894 4.56415,-0.15986 9.14484,-0.26644 13.74206,-0.373 -1.5102,-19.75146 -6.10752,-39.05885 -11.06991,-58.09984 -3.25318,-12.71765 -8.54738,-24.70707 -11.78372,-37.42474 -0.56419,-4.29844 -0.9459,-8.70344 -2.82146,-12.61109 -4.29859,-9.4317 -9.16138,-18.54366 -13.97435,-27.65559 -5.04557,-9.62706 -11.61787,-18.31272 -15.63416,-28.525954 z");
path3492.attr({id: 'path3492',fill: '#313c40','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3492');

// 8 bottom hole
var path3494 = rsr.path("m 335.64498,100.35777 c 2.4562,-5.239808 8.86254,-2.682079 13.17787,-2.699823 0.332,2.468913 1.92517,5.026653 0.9458,7.513343 -3.81717,5.79045 -16.04884,3.78334 -14.12367,-4.81352 z");
path3494.attr({id: 'path3494',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3494');

// 9
var path3498 = rsr.path("m 440.61925,108.90133 c 5.2943,-2.8064 11.88323,-2.84192 17.16089,0 4.63039,4.61816 3.71766,12.00719 3.58488,18.11735 -0.3318,4.38724 -1.29454,10.4441 -6.10762,11.50983 -6.37297,1.08351 -16.31449,1.84726 -17.84152,-7.08707 4.81318,1.10127 9.21138,5.18654 14.35626,3.62347 4.26552,-0.17763 4.81317,-5.38192 5.37716,-8.8633 -5.12824,0.31972 -10.4557,1.86503 -15.4181,-0.30193 -5.85868,-3.1972 -5.90859,-12.75322 -1.11195,-16.99835 z");
path3498.attr({id: 'path3498',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3498');

// 9 hole
var path3500 = rsr.path("m 444.95091,111.45907 c 3.90035,-2.53998 12.13236,-1.20781 11.75055,4.86681 1.02897,6.64304 -7.13669,9.09421 -11.65084,6.46543 -4.7302,-1.33216 -4.26532,-9.53826 -0.0998,-11.33224 z");
path3500.attr({id: 'path3500',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3500');

// 7
var path3502 = rsr.path("m 223.06948,115.29569 c 0.64727,-0.69271 1.95841,-2.11369 2.62229,-2.82418 7.23616,-0.37301 14.50555,-0.23089 21.75822,0.0179 -0.6638,2.94851 -1.01244,6.09239 -2.65541,8.65013 -4.43133,7.33577 -8.28177,15.0445 -11.76706,22.93087 -1.27794,0.0355 -3.83384,0.12431 -5.0952,0.17762 3.85044,-9.85796 9.57628,-18.66797 14.00762,-28.20621 -6.29014,-0.31972 -12.61349,0.10661 -18.87046,-0.74601 z");
path3502.attr({id: 'path3502',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3502');

// red marker inner
var path3504 = rsr.path("m 465.2818,114.53192 c 1.36098,7.28245 1.17829,14.83136 3.03722,22.00724 3.18664,3.81887 7.36909,6.44763 11.10348,9.60929 10.04073,8.08177 18.60474,17.99302 26.65406,28.25952 4.58079,6.02135 10.83762,10.15993 17.40992,13.28605 -0.82966,0.28419 -1.65961,0.58615 -2.48947,0.8881 -3.31932,-1.24334 -6.67191,-2.87746 -10.27342,-2.52221 -3.51834,1.42097 -6.07445,4.56487 -8.94552,7.03379 -9.75883,-8.43701 -16.72947,-19.94683 -26.7704,-28.04637 -6.30694,-5.18652 -12.68001,-10.30201 -18.80416,-15.71945 0.39814,-1.97161 0.81311,-3.92542 1.24483,-5.87924 2.8379,-2.96629 6.43941,-5.75494 7.33551,-10.15995 1.14512,-6.16346 0.87976,-12.52227 0.49795,-18.75677 z");
path3504.attr({id: 'path3504',fill: '#e93a25','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3504');

// 6.5 inner tick
var path3506 = rsr.path("m 156.66605,123.80374 c 5.84204,4.3517 11.48493,9.23628 15.5511,15.55959 -6.19057,-3.87211 -11.36872,-9.3606 -15.5511,-15.55959 z");
path3506.attr({id: 'path3506',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3506');

// red marker bottom
var path3518 = rsr.path("m 434.59451,152.84478 c 2.92118,-2.89523 5.46045,-6.3233 8.84621,-8.63239 4.61386,-0.95915 9.34396,-0.65721 14.00762,-0.76375 -0.43172,1.95382 -0.84669,3.90763 -1.24483,5.87924 6.12415,5.41744 12.49722,10.53293 18.80416,15.71945 10.04093,8.09954 17.01157,19.60936 26.7704,28.04637 -0.46468,1.95383 -0.91293,3.92541 -1.36108,5.89702 2.5062,3.39255 6.55597,6.51869 6.04128,11.38551 0.36527,4.76022 -2.38995,8.70344 -4.63049,12.5045 -0.51439,-0.90586 -1.54347,-2.71758 -2.05795,-3.62346 -8.56391,-13.35711 -17.07791,-26.9451 -28.24753,-38.01089 -10.88752,-10.72832 -22.52183,-20.83495 -35.89871,-27.81546 l -1.02908,-0.58614 z");
path3518.attr({id: 'path3518',fill: '#f95e63','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3518');

// left middle swoosh
var path3526 = rsr.path("m 21.602031,161.06862 c 1.82562,-4.52934 2.970812,-9.75137 6.489322,-13.17947 4.381524,-0.51511 8.796249,-0.21315 13.177764,-0.14209 -9.692475,23.76568 -17.924431,48.40172 -22.206396,73.99691 3.037213,0.69273 6.173975,0.63944 9.211188,1.36769 -3.120198,0.26642 -6.240376,0.31969 -9.343948,0.55063 -2.688675,9.87572 -3.169983,20.17772 -4.547516,30.30213 -4.182374,0 -8.3481423,0.0179 -12.5139009,0.0711 1.775845,-31.86519 9.5098989,-63.09097 19.7334869,-92.96685 z");
path3526.attr({id: 'path3526',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3526');

var path3532 = rsr.path("m 435.62359,153.43092 c 13.37688,6.98051 25.01119,17.08714 35.89871,27.81546 11.16962,11.06579 19.68362,24.65378 28.24753,38.01089 -0.79659,2.32685 -1.57654,4.65368 -2.35669,6.98051 -1.49375,-0.0532 -4.48117,-0.1421 -5.97483,-0.19539 -14.82074,-25.71951 -35.61641,-47.17614 -58.88511,-64.12118 1.01234,-2.84194 2.04131,-5.66611 3.07039,-8.49029 z");
path3532.attr({id: 'path3532',fill: '#75160f','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3532');

// 6 outer tick
var path3540 = rsr.path("m 70.313361,166.93011 c 6.738289,2.52222 13.675698,5.52402 19.235594,10.40861 -6.854444,-1.4565 -16.198381,-2.66432 -19.235594,-10.40861 z");
path3540.attr({id: 'path3540',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3540');

// 10 outer red tick
var path3542 = rsr.path("m 598.10536,178.29786 c 2.58907,-6.48315 9.64259,-7.88638 15.05323,-10.5329 -0.0998,1.13675 -0.2821,3.4103 -0.38181,4.54707 -4.63049,2.66434 -9.39366,5.29312 -14.67142,5.98583 z");
path3542.attr({id: 'path3542',fill: '#fb0403','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3542');

// 10 - 1
var path3556 = rsr.path("m 504.5829,197.16124 c 2.97069,-3.32154 6.04128,-6.76739 10.33967,-7.99296 0.49805,10.31977 -0.26546,20.63957 -0.26546,30.95934 -1.16176,0 -3.46864,-0.0179 -4.61386,-0.0179 0.0333,-7.19366 0.87956,-14.33401 1.07868,-21.52766 -1.62644,-0.35525 -4.89585,-1.06573 -6.53903,-1.42095 z");
path3556.attr({id: 'path3556',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3556');

// 10 - 0
var path3558 = rsr.path("m 527.93448,190.21623 c 4.26522,-0.14208 9.4104,-1.34991 12.91231,2.02489 3.31931,3.88988 2.34004,9.64482 2.50609,14.45836 -0.0665,5.15101 -1.21156,12.1315 -6.93747,13.1617 -4.23214,0.26644 -9.42683,1.40321 -12.81279,-2.0604 -3.26951,-3.25046 -2.30688,-8.49029 -2.58897,-12.75319 -0.18269,-5.59505 0.73034,-13.42813 6.92083,-14.83136 z");
path3558.attr({id: 'path3558',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3558');

// 6
var path3560 = rsr.path("m 150.04396,197.8717 c 1.01241,-9.20077 12.0326,-8.88104 18.25639,-6.53645 3.21976,0.373 3.08699,4.20962 3.9998,6.73183 -4.74666,-1.66964 -9.59289,-6.27002 -14.78766,-3.48137 -3.23635,0.85258 -2.77166,4.99115 -3.5849,7.63769 6.20716,0.14211 14.38935,-2.34457 18.82068,3.90769 1.21155,5.00889 1.975,13.71234 -4.4977,14.67147 -5.51013,1.34994 -13.84167,1.93608 -16.56355,-4.67141 -1.79243,-5.86149 -2.19076,-12.14927 -1.64306,-18.25945 z");
path3560.attr({id: 'path3560',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3560');

// 10 - 0 hole
var path3566 = rsr.path("m 527.68545,194.37255 c 3.65143,-1.52752 8.96226,-1.91829 11.50152,1.97164 0.5644,5.18652 0.54756,10.47961 0,15.68391 -1.06204,5.75493 -7.63434,5.27533 -11.684,4.08527 -3.68449,-2.32683 -2.37342,-7.28246 -2.67205,-11.06578 0.2821,-3.55241 -0.48132,-8.54359 2.85453,-10.67504 z");
path3566.attr({id: 'path3566',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3566');

// 10 - 0 hole red
var path3568 = rsr.path("m 529.6438,198.54664 c 1.84219,-0.0178 3.70112,-0.0355 5.56015,-0.0355 -0.28229,1.72291 -0.56449,3.44584 -0.82995,5.18653 -1.60981,0.31972 -3.21981,0.63944 -4.81298,0.95914 0.0333,-2.02487 0.0514,-4.06751 0.0827,-6.11016 z");
path3568.attr({id: 'path3568',fill: '#e93a25','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3568');

// 6 hole
var path3570 = rsr.path("m 158.20954,206.02451 c 3.75088,-0.7993 8.38133,-0.92361 10.85426,2.8064 0.24894,2.34461 0.3817,4.68921 0.39831,7.05155 -3.96662,1.24336 -9.22776,4.01426 -12.6301,0.0712 -3.23635,-2.59325 -2.63888,-8.56133 1.37753,-9.92901 z");
path3570.attr({id: 'path3570',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3570');

// 5.5 inner tick
var path3582 = rsr.path("m 96.735347,243.25388 c 7.285933,1.0302 14.953623,2.29129 21.111013,6.9272 -7.26937,-1.22558 -14.87067,-2.46893 -21.111013,-6.9272 z");
path3582.attr({id: 'path3582',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3582');

var path3600 = rsr.path("m 344.77329,250.44753 c 1.46038,-2.14922 5.64293,0 3.70092,2.46892 -1.47712,2.34462 -5.64283,0.0179 -3.70092,-2.46892 z");
path3600.attr({id: 'path3600',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3600');
var path3610 = rsr.path("m 257.67371,271.95742 c 3.4024,-1.22557 6.98718,-1.66962 10.57196,-1.58081 47.05179,0.24866 94.10348,0.0178 141.13854,0.28419 7.40215,0 14.87054,-0.62168 22.22289,0.76376 -4.46434,1.79397 -9.26089,1.66965 -13.92455,1.59859 -37.62486,-0.373 -75.23288,0.30197 -112.85753,-0.31971 -15.7005,-0.1954 -31.51715,1.04797 -47.15131,-0.74602 z");
path3610.attr({id: 'path3610',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3610');

// 5
var path3626 = rsr.path("m 129.53042,297.10858 c 6.14079,0.2309 12.39775,-0.71048 18.45556,0.55062 0.29873,0.90586 0.86301,2.73534 1.14516,3.64121 -5.39393,0.21316 -10.77127,0.15985 -16.1652,0.44407 0.0498,1.70514 0.14936,5.13325 0.19917,6.85615 4.38154,-0.0532 8.89583,-0.72825 13.17777,0.51511 6.20717,3.03733 6.48933,12.91304 1.54352,17.35358 -4.41473,1.2611 -9.1614,1.24333 -13.65911,0.44404 -3.5019,-0.746 -4.68026,-4.84905 -5.062,-8.15279 5.36073,3.25046 11.43516,7.0693 17.52613,3.16166 -0.44813,-3.09061 0.86303,-7.38905 -2.30694,-9.18303 -5.29434,-1.81172 -10.68827,0.60393 -15.88306,1.5986 -0.0166,-5.77268 0.73027,-11.47431 1.029,-17.22922 z");
path3626.attr({id: 'path3626',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3626');

var path3638 = rsr.path("m 41.053361,323.16558 c 6.323361,0.44403 12.646691,-0.31973 18.953437,0.0888 -5.34413,4.24515 -12.264964,3.26824 -18.521915,3.42808 -0.09941,-0.88808 -0.331932,-2.62876 -0.431522,-3.51687 z");
path3638.attr({id: 'path3638',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3638');
var path3658 = rsr.path("m 763.69079,367.65963 c 1.12859,-4.35172 2.25697,-8.88106 5.31083,-12.1848 -0.92936,11.6164 -4.84615,22.64668 -8.56401,33.51708 -18.5881,54.61846 -49.77345,104.31682 -89.8544,143.50003 -4.03312,5.02667 -10.43937,3.83659 -15.91615,4.01422 -7.30264,-0.2842 -15.55128,1.84726 -21.64226,-3.67675 5.79234,-0.71048 11.71737,-1.38545 17.01167,-4.22738 -1.26127,1.58083 -2.48957,3.19717 -3.70103,4.81353 5.87523,-0.26644 12.87903,1.93607 17.84143,-2.50447 11.80025,-10.7816 21.45967,-23.96106 32.84495,-35.22225 8.36469,-5.45295 13.06152,-14.92015 18.88714,-22.98415 21.17738,-31.90072 37.54158,-67.46045 47.78183,-105.04506 z");
path3658.attr({id: 'path3658',fill: '#313c40','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3658');
var path3666 = rsr.path("m 103.49019,377.53537 c 6.38973,-3.99648 13.79185,-5.4885 21.07782,-6.28779 -6.008,4.93786 -13.75867,5.91478 -21.07782,6.28779 z");
path3666.attr({id: 'path3666',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3666');
var path3668 = rsr.path("m 96.751942,377.71297 c 1.360908,-1.86504 5.178148,-1.65186 5.460308,1.08349 -0.18258,3.8366 -7.385535,2.64656 -5.460308,-1.08349 z");
path3668.attr({id: 'path3668',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3668');
var path3682 = rsr.path("m 174.80626,396.68289 c 2.63887,0.10662 5.27776,0.30196 7.91663,0.31973 -0.44811,7.79755 0.0333,15.77274 4.06619,22.52234 -0.86302,0.69273 -2.58908,2.06042 -3.45213,2.73537 -0.39831,-7.93966 -2.20733,-15.71946 -2.60566,-23.65912 -1.12859,-0.35524 -3.40234,-1.04797 -4.53091,-1.38546 l -1.39412,-0.53286 z");
path3682.attr({id: 'path3682',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3682');
var path3684 = rsr.path("m 162.57446,420.43084 c 1.07882,-9.41392 8.64689,-15.89709 13.62592,-23.21509 1.12857,0.33749 3.40232,1.03022 4.53091,1.38546 0.39833,7.93966 2.20735,15.71946 2.60566,23.65912 -0.0994,1.10123 -0.29873,3.30373 -0.39831,4.405 -1.06219,-0.0179 -3.20316,-0.0179 -4.26534,-0.0355 -0.31533,-2.00713 -0.61409,-4.01425 -0.91283,-6.02135 -5.06199,0.0711 -10.12399,0.0355 -15.18601,-0.17762 z");
path3684.attr({id: 'path3684',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3684');
var path3686 = rsr.path("m 167.95181,416.62975 c 2.5061,-4.9734 5.60971,-9.57378 9.37714,-13.53472 0.36513,4.58262 0.51451,9.183 0.58088,13.80113 -3.31932,-0.071 -6.63868,-0.12433 -9.95802,-0.26641 z");
path3686.attr({id: 'path3686',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3686');
var path3742 = rsr.path("m 129.39765,435.2089 c 6.45612,-4.06752 13.1612,-7.63771 19.76668,-11.40326 0.31534,1.26109 0.9626,3.78331 1.29456,5.04444 -6.42294,3.53465 -12.6467,7.42453 -18.80411,11.40326 -0.78001,-1.66964 -1.64305,-3.28599 -2.25713,-5.04444 z");
path3742.attr({id: 'path3742',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3742');
var path3762 = rsr.path("m 88.868496,474.40988 c 3.186558,-6.3411 10.621876,-8.41926 16.198384,-11.81181 -3.10359,6.51868 -9.858438,10.01781 -16.198384,11.81181 z");
path3762.attr({id: 'path3762',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3762');
var path3766 = rsr.path("m 235.13529,476.00843 c 3.18657,-7.15811 11.06997,-6.39434 17.17769,-5.04443 4.21551,1.61634 5.3938,7.74427 2.90434,11.42103 -4.94576,4.03201 -12.03259,4.74251 -15.41833,10.87042 5.759,0.72825 11.58442,0.24867 17.37677,0.71048 -0.0665,0.92363 -0.18249,2.7709 -0.23229,3.69453 -7.00381,0.19537 -14.00774,0.0355 -20.99492,0.0355 0.31533,-3.44586 -0.0333,-7.54891 2.73843,-10.00007 3.98326,-3.42808 9.17789,-4.60039 13.42678,-7.56666 1.51019,-3.14387 -0.91293,-6.78513 -4.16581,-6.23448 -4.54755,-0.92363 -8.24854,3.67675 -12.81266,2.11367 z");
path3766.attr({id: 'path3766',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3766');
var path3768 = rsr.path("m 173.37894,487.90906 c 2.58909,-6.8917 8.29835,-11.58091 14.32295,-14.79584 -3.23636,6.35884 -8.0328,11.90061 -14.32295,14.79584 z");
path3768.attr({id: 'path3768',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3768');
var path3770 = rsr.path("m 159.12237,490.43129 c 17.6091,13.30381 33.67472,29.48506 53.60737,38.89899 1.60986,1.33215 2.83805,3.05509 3.68448,5.18651 -11.25257,-3.16163 -20.51356,-11.19011 -30.00687,-17.99299 -9.47671,-8.13504 -20.33098,-15.16884 -27.28498,-26.09251 z");
path3770.attr({id: 'path3770',fill: '#808e92','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3770');
var path3774 = rsr.path("m 340.54104,497.57163 c 5.37727,-0.71048 12.46415,-2.04264 16.14854,3.39256 2.35669,6.51869 3.00405,14.42282 0.0665,20.83495 -3.15346,5.20431 -9.72576,4.10304 -14.63835,3.62346 -4.73,-1.11901 -6.65527,-6.48315 -6.60557,-11.17236 -0.23229,-5.82595 -0.53082,-13.4459 5.02884,-16.67861 z");
path3774.attr({id: 'path3774',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3774');
var path3782 = rsr.path("m 389.76682,500.28925 c 1.16186,-0.10662 3.46864,-0.3375 4.61386,-0.44405 -0.0514,2.34458 -0.0998,4.70693 -0.14921,7.08706 -1.09532,-0.1066 -3.31932,-0.28421 -4.43148,-0.39077 -0.0161,-2.07815 -0.0333,-4.17408 -0.0333,-6.25224 z");
path3782.attr({id: 'path3782',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3782');
var path3788 = rsr.path("m 340.5244,501.47929 c 4.19908,-0.40853 10.05757,-2.69981 12.74615,2.14922 0.78025,5.41745 0.34874,10.92369 0.44815,16.39444 -4.116,2.66428 -8.92888,2.45114 -13.21093,0.37299 -0.26547,-6.30554 -0.31527,-12.6111 0.0171,-18.91665 z");
path3788.attr({id: 'path3788',fill: '#f5f8f3','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3788');
var path3790 = rsr.path("m 232.36364,508.01576 c 1.17837,-0.15986 3.53513,-0.47958 4.71348,-0.63944 -1.90864,5.86149 -4.97903,11.17235 -8.01623,16.42993 -1.62647,0.28421 -3.21975,0.56841 -4.82962,0.8526 1.24475,-6.19898 4.58067,-11.68747 8.13237,-16.64309 z");
path3790.attr({id: 'path3790',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3790');
var path3818 = rsr.path("m 345.10509,537.64292 c 1.06224,0.0532 3.18653,0.15986 4.26542,0.23093 0.81332,6.00357 0.71371,12.096 0.79668,18.17063 -1.278,-0.0533 -3.80074,-0.12434 -5.0621,-0.15988 0.0514,-6.09239 0.0161,-12.16703 0,-18.24168 z");
path3818.attr({id: 'path3818',fill: '#010101','stroke-width': '0','stroke-opacity': '1'}).data('id', 'path3818');


// rpm units
var rpm = rsr.text(400, 510, "x1000\nr\/min");
rpm.node.setAttribute('class', 'rpm-units');

// white speedo face circle
var faceOverlay = path4641.clone();

// Inner black face
var path3847 = rsr.path("m 736.26527,397.05438 a 125.18989,125.18989 0 1 1 -250.37978,0 125.18989,125.18989 0 1 1 250.37978,0 z");
path3847.attr({id: 'path3847',fill: '#000000',"fill-opacity": '1',"fill-rule": 'evenodd',stroke: '#313c40',"stroke-width": '9.53',"stroke-linecap": 'butt',"stroke-linejoin": 'miter',"stroke-miterlimit": '4',"stroke-opacity": '1',"stroke-dasharray": 'none'});
path3847.transform("m1.3872461,0,0,1.4128359,-501.65806,-256.16523").data('id', 'path3847');


	// separator
	var path3848 = rsr.path('m 257 277 L 437 277').attr({ stroke: '#fff',
			'stroke-width': 1 });

	var gearsLeft = rsr.text(297, 327, "2");
	gearsLeft.node.setAttribute('class', 'gears gears-left');

	var gearsRight = rsr.text(397, 327, "4");
	gearsRight.node.setAttribute('class', 'gears gears-right');

	var gear = rsr.text(347, 350, "3");
	gear.node.setAttribute('class', 'gear');

	var lap = rsr.text(347, 400, "Connecting ");
	lap.node.setAttribute('class', 'lap');

	var needle = rsr.set();

	var needleBase = rsr.path("m 347 300 l 0 250")
		.attr({ fill: '#fff', stroke: '#c00', 'stroke-width': 2, opacity: 0 });

	var speed = rsr.text(347, 215, "0");
	speed.node.setAttribute('class', 'speed');

	var speedUnits = rsr.text(347, 250, "MPH");
	speedUnits.node.setAttribute('class', 'speed-units');
	var needle = rsr.set();

	var digitalOutputs = rsr.set();

	digitalOutputs.push(
		gear,
		gearsLeft,
		gearsRight,
		speed,
		speedUnits,
		path3848,
		lap
	);

	digitalOutputs.attr({ opacity: 0 });

	var needleBase = rsr.path("m 347 400 l 0 150")
		.attr({ fill: '#fff', stroke: '#c00', 'stroke-width': 2, opacity: 0 });

	needle.push(needleBase);

	var switchText = function(target, text)
	{
		// TODO - Workaround for raphael's moving text.
		// Figure out a better wya. Theres got to be a better way?!

		if (!target)
			return target;

		if (target.attr('text') == text)
			return target;

		var x = parseInt(target.attr('x'));
		var y = parseInt(target.attr('y'));
		var classes = undefined;

		if (target.node)
			classes = target.node.getAttribute('class');

		target.remove();
		target = rsr.text(x, y, text);
		
		if (classes)
			target.node.setAttribute('class', classes);

		return target;
	}

	var ms2mph = function(ms)
	{
		return Math.round(ms * 2.2369);
	}

	var gear2gear = function(g)
	{
		if (g >= 2)
		{
			return --g;
		}
		else if (g == 1)
			return 'N';

		return 'R';
	}

	var rpm2angle = function (rpm)
	{
		if (rpm <= 4000)
		{	
			var end = { value: 4000, angle: 57.5 };
			var start = { value: 0, angle: 0 };

			var needleRate = rpm/(end.value - start.value);
			var needleAngle = ((end.angle - 2 * start.angle) * needleRate) + start.angle;
			return needleAngle;
		}
		else
		{
			var end = { value: 10000, angle: 240 };
			var start = { value: 4000, angle: 57.5 };

			var needleRate = rpm/(end.value - start.value);
			var needleAngle = end.angle * needleRate;
			var needleAngle = ((end.angle - start.angle) * needleRate) -
				start.angle - 7;		
			return needleAngle;
		}
	}

	var mvNeedle = function(rpm)
	{
		var angle = rpm2angle(rpm);

		needle.animate({transform: "r" + angle + ",347,300"}, 25, 'linear');
	}


faceOverlay.animate({opacity: 0}, 2000, '<>', function() {

	faceOverlay.remove();
	faceOverlay = undefined;

	var socket = null;

	needleBase.animate({ opacity: 1 }, 500, 'linear', function()
	{
		var needleGlow = needleBase.clone();
			needleGlow.attr({ fill: '#fff', stroke: '#c00', 'stroke-width': 7,
				opacity: .45 });

		needle.push(
			needleGlow
		);

		digitalOutputs.animate({ opacity: 1 }, 1000, '<>');

		needle.animate({transform: "r240,347,300"}, 750,'linear', function()
		{
			needle.animate({transform: "r0, 347, 300"}, 750,'linear', function()
			{
				socket = io.connect('/');

				socket.on('OG_PACK', function(p)
				{
					speed = switchText(speed, ms2mph(p.speed));
					lap = switchText(lap, p.display1);
					gear = switchText(gear, gear2gear(p.gear));

					mvNeedle(p.rpm);
				});

			});
		});
	});
});


	var clock = rsr.text(710, 310, "00:00");
	clock.node.setAttribute('class', 'clock');

	var timeHandle;

	function timeClock()
	{
		var nd = new Date();
		var h, m;
		h = nd.getHours();
		m = nd.getMinutes();
		if (h <= 9) h = "0" + h;
		if (m <= 9) m = "0" + m;

		if (clock)
			clock = switchText(clock, h + ':' + m);

		timeHandle = setTimeout("timeClock()", 1000);
	}

	var speedCurr = 0;
	var speedHandle;

	function speedClock()
	{
		speedCurr += Math.round(Math.random()*10);

		speed.attr('text', speedCurr);

		speedHandle = setTimeout('speedClock()', 1000);
	}

timeClock();

//speedClock();

</script>

</body>
</html>
